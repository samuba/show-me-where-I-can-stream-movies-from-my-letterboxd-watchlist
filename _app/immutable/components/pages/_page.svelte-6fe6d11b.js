import{S as be,i as Te,s as ke,a as V,k as y,q as M,I as Pe,h as c,c as O,l as S,m as E,r as D,n as k,p as b,b as I,G as p,B as $,o as Ee,J as ye,K as Se,L as Ue,M as ie,N as Le,O as ae,P as we,Q as ne,R as x,u as K,T as Z,U as ge,V as se}from"../../chunks/index-4f4d7eab.js";const Ie=[{name:"Samuels Watchlist",filePath:"lists/Samuels_Watchlist.json",nameUrl:"Samuels_Watchlist"},{name:"Tamaras Watchlist",filePath:"lists/Tamaras_Watchlist.json",nameUrl:"Tamaras_Watchlist"},{name:"Valiants Watchlist",filePath:"lists/Valiants_Watchlist.json",nameUrl:"Valiants_Watchlist"},{name:"Samuels Favoriten",filePath:"lists/Samuels_Favoriten.json",nameUrl:"Samuels_Favoriten"},{name:"Letterboxd's Top 250 Narrative Feature Films",filePath:"lists/Letterboxds_Top_250_Narrative_Feature_Films.json",nameUrl:"Letterboxds_Top_250_Narrative_Feature_Films"},{name:"Letterboxd's Top 1000 Movies with Over 50k Watched",filePath:"lists/Letterboxds_Top_1000_Movies_with_Over_50k_Watched.json",nameUrl:"Letterboxds_Top_1000_Movies_with_Over_50k_Watched"},{name:"Sight and Sound's Greatest Films of All Time 2022",filePath:"lists/Sight_and_Sounds_Greatest_Films_of_All_Time_2022.json",nameUrl:"Sight_and_Sounds_Greatest_Films_of_All_Time_2022"},{name:"TSPDT Top 1000 Greatest Films (2022 Edition)",filePath:"lists/TSPDT_Top_1000_Greatest_Films_2022_Edition.json",nameUrl:"TSPDT_Top_1000_Greatest_Films_2022_Edition"},{name:"2020 Edition: Top10ner’s 1001 ‘Greatest’ Movies of All Time",filePath:"lists/2020_Edition_Top10ners_1001_Greatest_Movies_of_All_Time.json",nameUrl:"2020_Edition_Top10ners_1001_Greatest_Movies_of_All_Time"},{name:"The Complete Criterion Collection",filePath:"lists/The_Complete_Criterion_Collection.json",nameUrl:"The_Complete_Criterion_Collection"},{name:"Top 100 Highest Rated Anime Films On IMDB",filePath:"lists/Top_100_Highest_Rated_Anime_Films_On_IMDB.json",nameUrl:"Top_100_Highest_Rated_Anime_Films_On_IMDB"},{name:"Top Anime Films (as chosen by Japanese critics and artists)",filePath:"lists/Top_Anime_Films_as_chosen_by_Japanese_critics_and_artists.json",nameUrl:"Top_Anime_Films_as_chosen_by_Japanese_critics_and_artists"},{name:"Psychedelic Films Compilation",filePath:"lists/Psychedelic_Films_Compilation.json",nameUrl:"Psychedelic_Films_Compilation"},{name:"The Ultimate Blaxploitation Movies List",filePath:"lists/The_Ultimate_Blaxploitation_Movies_List.json",nameUrl:"The_Ultimate_Blaxploitation_Movies_List"},{name:"Trashterpieces",filePath:"lists/Trashterpieces.json",nameUrl:"Trashterpieces"},{name:"A Symphony Of Trash",filePath:"lists/A_Symphony_Of_Trash.json",nameUrl:"A_Symphony_Of_Trash"},{name:"Trash",filePath:"lists/Trash.json",nameUrl:"Trash"}],{document:re}=ye;function oe(l,e,t){const i=l.slice();return i[10]=e[t],i}function _e(l,e,t){const i=l.slice();return i[13]=e[t],i}function he(l,e,t){const i=l.slice();return i[10]=e[t],i[16]=e,i[17]=t,i}function me(l,e,t){const i=l.slice();return i[18]=e[t],i}function Ae(l){let e,t,i,n,o,f,v,d,s,u,m=l[1].description+"",g,h,_,T,P,W=l[1].name+"",R,C,U,w,G,J,q,N=l[4],A=[];for(let a=0;a<N.length;a+=1)A[a]=ce(me(l,N,a));let Y=l[2],F=[];for(let a=0;a<Y.length;a+=1)F[a]=fe(he(l,Y,a));let z=l[2].filter(ve),j=[];for(let a=0;a<z.length;a+=1)j[a]=pe(oe(l,z,a));return{c(){e=y("select");for(let a=0;a<A.length;a+=1)A[a].c();t=V(),i=y("details"),n=y("summary"),o=M("Stream Providers"),f=V(),v=y("div");for(let a=0;a<F.length;a+=1)F[a].c();d=V(),s=y("div"),u=new Ue(!1),g=V(),h=y("a"),_=ie("svg"),T=ie("path"),P=M(`
				Open in Letterboxd: "`),R=M(W),C=M('"'),w=V(),G=y("div");for(let a=0;a<j.length;a+=1)j[a].c();this.h()},l(a){e=S(a,"SELECT",{id:!0});var L=E(e);for(let H=0;H<A.length;H+=1)A[H].l(L);L.forEach(c),t=O(a),i=S(a,"DETAILS",{style:!0});var r=E(i);n=S(r,"SUMMARY",{});var B=E(n);o=D(B,"Stream Providers"),B.forEach(c),f=O(r),v=S(r,"DIV",{style:!0});var ee=E(v);for(let H=0;H<F.length;H+=1)F[H].l(ee);ee.forEach(c),r.forEach(c),d=O(a),s=S(a,"DIV",{style:!0});var X=E(s);u=Le(X,!1),g=O(X),h=S(X,"A",{href:!0,target:!0,rel:!0});var Q=E(h);_=ae(Q,"svg",{xmlns:!0,style:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0});var te=E(_);T=ae(te,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),E(T).forEach(c),te.forEach(c),P=D(Q,`
				Open in Letterboxd: "`),R=D(Q,W),C=D(Q,'"'),Q.forEach(c),X.forEach(c),w=O(a),G=S(a,"DIV",{style:!0});var le=E(G);for(let H=0;H<j.length;H+=1)j[H].l(le);le.forEach(c),this.h()},h(){k(e,"id","lists-select"),l[0]===void 0&&we(()=>l[6].call(e)),b(v,"margin-bottom","3rem"),b(i,"margin-top","2rem"),u.a=g,k(T,"stroke-linecap","round"),k(T,"stroke-linejoin","round"),k(T,"d","M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"),k(_,"xmlns","http://www.w3.org/2000/svg"),b(_,"height","1.1rem"),b(_,"width","1.1rem"),k(_,"fill","none"),k(_,"viewBox","0 0 24 24"),k(_,"stroke-width","1.5"),k(_,"stroke","currentColor"),k(h,"href",U=l[1].url),k(h,"target","_blank"),k(h,"rel","noreferrer"),b(s,"margin-top","3rem"),b(G,"margin-top","3rem")},m(a,L){I(a,e,L);for(let r=0;r<A.length;r+=1)A[r].m(e,null);ne(e,l[0]),I(a,t,L),I(a,i,L),p(i,n),p(n,o),p(i,f),p(i,v);for(let r=0;r<F.length;r+=1)F[r].m(v,null);I(a,d,L),I(a,s,L),u.m(m,s),p(s,g),p(s,h),p(h,_),p(_,T),p(h,P),p(h,R),p(h,C),I(a,w,L),I(a,G,L);for(let r=0;r<j.length;r+=1)j[r].m(G,null);J||(q=[x(e,"change",l[6]),x(e,"change",l[5])],J=!0)},p(a,L){if(L&16){N=a[4];let r;for(r=0;r<N.length;r+=1){const B=me(a,N,r);A[r]?A[r].p(B,L):(A[r]=ce(B),A[r].c(),A[r].m(e,null))}for(;r<A.length;r+=1)A[r].d(1);A.length=N.length}if(L&17&&ne(e,a[0]),L&4){Y=a[2];let r;for(r=0;r<Y.length;r+=1){const B=he(a,Y,r);F[r]?F[r].p(B,L):(F[r]=fe(B),F[r].c(),F[r].m(v,null))}for(;r<F.length;r+=1)F[r].d(1);F.length=Y.length}if(L&2&&m!==(m=a[1].description+"")&&u.p(m),L&2&&W!==(W=a[1].name+"")&&K(R,W),L&2&&U!==(U=a[1].url)&&k(h,"href",U),L&6){z=a[2].filter(ve);let r;for(r=0;r<z.length;r+=1){const B=oe(a,z,r);j[r]?j[r].p(B,L):(j[r]=pe(B),j[r].c(),j[r].m(G,null))}for(;r<j.length;r+=1)j[r].d(1);j.length=z.length}},d(a){a&&c(e),Z(A,a),a&&c(t),a&&c(i),Z(F,a),a&&c(d),a&&c(s),a&&c(w),a&&c(G),Z(j,a),J=!1,ge(q)}}}function Fe(l){var f;let e,t,i=(((f=l[0])==null?void 0:f.name)??"")+"",n,o;return{c(){e=y("h5"),t=M("Loading "),n=M(i),o=M("..."),this.h()},l(v){e=S(v,"H5",{"aria-busy":!0});var d=E(e);t=D(d,"Loading "),n=D(d,i),o=D(d,"..."),d.forEach(c),this.h()},h(){k(e,"aria-busy","true")},m(v,d){I(v,e,d),p(e,t),p(e,n),p(e,o)},p(v,d){var s;d&1&&i!==(i=(((s=v[0])==null?void 0:s.name)??"")+"")&&K(n,i)},d(v){v&&c(e)}}}function ce(l){let e,t=l[18].name+"",i;return{c(){e=y("option"),i=M(t),this.h()},l(n){e=S(n,"OPTION",{});var o=E(e);i=D(o,t),o.forEach(c),this.h()},h(){e.__value=l[18],e.value=e.__value},m(n,o){I(n,e,o),p(e,i)},p:$,d(n){n&&c(e)}}}function fe(l){let e,t,i,n,o,f=l[10].name+"",v,d,s,u,m,g;function h(){l[7].call(t,l[16],l[17])}function _(...T){return l[8](l[10],...T)}return{c(){e=y("div"),t=y("input"),n=V(),o=y("label"),v=M(f),u=V(),this.h()},l(T){e=S(T,"DIV",{style:!0});var P=E(e);t=S(P,"INPUT",{type:!0,id:!0}),n=O(P),o=S(P,"LABEL",{for:!0,title:!0,style:!0});var W=E(o);v=D(W,f),W.forEach(c),u=O(P),P.forEach(c),this.h()},h(){k(t,"type","checkbox"),k(t,"id",i=l[10].name),k(o,"for",d=l[10].name),k(o,"title",s=l[10].name),b(o,"font-size","14pt"),b(o,"text-overflow","ellipsis"),b(o,"white-space","nowrap"),b(o,"overflow","hidden"),b(o,"width","16rem"),b(e,"display","inline-block")},m(T,P){I(T,e,P),p(e,t),t.checked=l[10].enabled,p(e,n),p(e,o),p(o,v),p(e,u),m||(g=[x(t,"change",h),x(t,"change",_)],m=!0)},p(T,P){l=T,P&4&&i!==(i=l[10].name)&&k(t,"id",i),P&4&&(t.checked=l[10].enabled),P&4&&f!==(f=l[10].name+"")&&K(v,f),P&4&&d!==(d=l[10].name)&&k(o,"for",d),P&4&&s!==(s=l[10].name)&&k(o,"title",s)},d(T){T&&c(e),m=!1,ge(g)}}}function de(l){let e;return{c(){e=M("Nothing found")},l(t){e=D(t,"Nothing found")},m(t,i){I(t,e,i)},d(t){t&&c(e)}}}function je(l){let e;return{c(){e=y("div")},l(t){e=S(t,"DIV",{}),E(e).forEach(c)},m(t,i){I(t,e,i)},p:$,d(t){t&&c(e)}}}function Me(l){let e,t,i=l[13].listPosition+"",n;return{c(){e=y("div"),t=M("#"),n=M(i),this.h()},l(o){e=S(o,"DIV",{style:!0});var f=E(e);t=D(f,"#"),n=D(f,i),f.forEach(c),this.h()},h(){b(e,"padding-right","0.2rem"),b(e,"padding-left","0.1rem"),b(e,"padding-top","0"),b(e,"transform","translateY(-100%)"),b(e,"border-top-right-radius","0.3rem"),b(e,"width","fit-content"),b(e,"background-color","rgba(0 14 0 / 75%)")},m(o,f){I(o,e,f),p(e,t),p(e,n)},p(o,f){f&6&&i!==(i=o[13].listPosition+"")&&K(n,i)},d(o){o&&c(e)}}}function ue(l){let e,t,i,n,o,f,v,d,s,u,m,g=l[13].rating+"",h,_,T,P;function W(U,w){return U[13].listPosition?Me:je}let R=W(l),C=R(l);return{c(){e=y("div"),t=y("a"),i=y("div"),n=y("img"),d=V(),s=y("div"),C.c(),u=V(),m=y("div"),h=M(g),_=M("★"),P=V(),this.h()},l(U){e=S(U,"DIV",{style:!0});var w=E(e);t=S(w,"A",{href:!0});var G=E(t);i=S(G,"DIV",{style:!0});var J=E(i);n=S(J,"IMG",{src:!0,style:!0,title:!0,alt:!0}),d=O(J),s=S(J,"DIV",{style:!0});var q=E(s);C.l(q),u=O(q),m=S(q,"DIV",{style:!0});var N=E(m);h=D(N,g),_=D(N,"★"),N.forEach(c),q.forEach(c),J.forEach(c),G.forEach(c),P=O(w),w.forEach(c),this.h()},h(){se(n.src,o=l[13].imageUrl)||k(n,"src",o),b(n,"max-height","15rem"),b(n,"max-width","9.2rem"),k(n,"title",f=l[13].name),k(n,"alt",v=`${l[13].name}`),b(m,"padding-left","0.2rem"),b(m,"padding-top","0"),b(m,"transform","translateY(-100%)"),b(m,"border-top-left-radius","0.3rem"),b(m,"width","fit-content"),b(m,"background-color","rgba(0 14 0 / 75%)"),b(s,"display","flex"),b(s,"justify-content","space-between"),b(s,"font-size","8.5pt"),b(i,"display","relative"),k(t,"href",T=l[13].letterboxdUrl),b(e,"display","inline-block"),b(e,"margin-left","1rem"),b(e,"margin-bottom","1rem")},m(U,w){I(U,e,w),p(e,t),p(t,i),p(i,n),p(i,d),p(i,s),C.m(s,null),p(s,u),p(s,m),p(m,h),p(m,_),p(e,P)},p(U,w){w&6&&!se(n.src,o=U[13].imageUrl)&&k(n,"src",o),w&6&&f!==(f=U[13].name)&&k(n,"title",f),w&6&&v!==(v=`${U[13].name}`)&&k(n,"alt",v),R===(R=W(U))&&C?C.p(U,w):(C.d(1),C=R(U),C&&(C.c(),C.m(s,u))),w&6&&g!==(g=U[13].rating+"")&&K(h,g),w&6&&T!==(T=U[13].letterboxdUrl)&&k(t,"href",T)},d(U){U&&c(e),C.d()}}}function pe(l){let e,t,i=l[10].name+"",n,o,f,v;function d(...g){return l[9](l[10],...g)}let s=l[1].entries.filter(d),u=[];for(let g=0;g<s.length;g+=1)u[g]=ue(_e(l,s,g));let m=null;return s.length||(m=de()),{c(){e=y("section"),t=y("h2"),n=M(i),o=V(),f=y("div");for(let g=0;g<u.length;g+=1)u[g].c();m&&m.c(),v=V(),this.h()},l(g){e=S(g,"SECTION",{});var h=E(e);t=S(h,"H2",{style:!0});var _=E(t);n=D(_,i),_.forEach(c),o=O(h),f=S(h,"DIV",{});var T=E(f);for(let P=0;P<u.length;P+=1)u[P].l(T);m&&m.l(T),T.forEach(c),v=O(h),h.forEach(c),this.h()},h(){b(t,"margin-bottom","1rem")},m(g,h){I(g,e,h),p(e,t),p(t,n),p(e,o),p(e,f);for(let _=0;_<u.length;_+=1)u[_].m(f,null);m&&m.m(f,null),p(e,v)},p(g,h){if(l=g,h&4&&i!==(i=l[10].name+"")&&K(n,i),h&6){s=l[1].entries.filter(d);let _;for(_=0;_<s.length;_+=1){const T=_e(l,s,_);u[_]?u[_].p(T,h):(u[_]=ue(T),u[_].c(),u[_].m(f,null))}for(;_<u.length;_+=1)u[_].d(1);u.length=s.length,s.length?m&&(m.d(1),m=null):m||(m=de(),m.c(),m.m(f,null))}},d(g){g&&c(e),Z(u,g),m&&m.d()}}}function De(l){let e,t,i,n,o;function f(s,u){return s[3]?Fe:Ae}let v=f(l),d=v(l);return{c(){e=V(),t=y("div"),i=y("h1"),n=M("Who Streams My Letterboxd List"),o=V(),d.c(),this.h()},l(s){Pe("svelte-1kn2mgw",re.head).forEach(c),e=O(s),t=S(s,"DIV",{class:!0,style:!0});var m=E(t);i=S(m,"H1",{});var g=E(i);n=D(g,"Who Streams My Letterboxd List"),g.forEach(c),o=O(m),d.l(m),m.forEach(c),this.h()},h(){re.title="Letterboxd List Streams",k(t,"class","container"),b(t,"margin-top","3rem")},m(s,u){I(s,e,u),I(s,t,u),p(t,i),p(i,n),p(t,o),d.m(t,null)},p(s,[u]){v===(v=f(s))&&d?d.p(s,u):(d.d(1),d=v(s),d&&(d.c(),d.m(t,null)))},i:$,o:$,d(s){s&&c(e),s&&c(t),d.d()}}}function Ce(l,e){const t=new URL(document.location);t.searchParams.set(l,e),window.history.pushState(null,"",t.toString())}function Ve(l,e){localStorage.setItem(`provider: ${l}`,e+"")}function Oe(l){return localStorage.getItem(`provider: ${l}`)==="true"}const ve=l=>l.enabled;function We(l,e,t){let i=Ie,n=i[0],o={name:"",description:"",entries:[],streamProviders:[],url:""},f=[],v=!0;Ee(()=>{const h=new URL(document.location).searchParams.get("list");h?t(0,n=i.find(_=>_.nameUrl===h)):t(0,n=i.find(_=>_.name===localStorage.getItem("selectedList"))),t(0,n??(n=i[0])),d()});async function d(){console.log(n==null?void 0:n.name.replaceAll(" ","_")),t(3,v=!0);try{t(1,o=await fetch(n.filePath).then(h=>h.json())),t(2,f=o.streamProviders.map(h=>({...h,enabled:Oe(h.name)}))),localStorage.setItem("selectedList",n.name),Ce("list",(n==null?void 0:n.nameUrl)??"")}finally{t(3,v=!1)}}function s(){n=Se(this),t(0,n),t(4,i)}function u(h,_){h[_].enabled=this.checked,t(2,f)}return[n,o,f,v,i,d,s,u,(h,_)=>{var T;return Ve(h.name,(T=_==null?void 0:_.target)==null?void 0:T.checked)},(h,_)=>_.streamProviders.includes(h.name)]}class Be extends be{constructor(e){super(),Te(this,e,We,De,ke,{})}}export{Be as default};
