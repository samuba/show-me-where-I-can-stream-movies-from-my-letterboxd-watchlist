import{S as be,i as Te,s as ke,a as C,k as S,q as j,I as Pe,h as c,c as V,l as y,m as E,r as D,n as k,p as b,b as I,G as p,B as $,o as Ee,J as Se,K as ye,L as Ue,M as ae,N as Le,O as ie,P as we,Q as ne,R as x,u as K,T as Z,U as ge,V as se}from"../../chunks/index-4f4d7eab.js";const Ie=[{name:"Samuels Watchlist",filePath:"lists/Samuels_Watchlist.json",nameUrl:"Samuels_Watchlist"},{name:"Samuels IMDB Watchlist",filePath:"lists/Samuels_IMDB_Watchlist.json",nameUrl:"Samuels_IMDB_Watchlist"},{name:"Tamaras Watchlist",filePath:"lists/Tamaras_Watchlist.json",nameUrl:"Tamaras_Watchlist"},{name:"Valiants Watchlist",filePath:"lists/Valiants_Watchlist.json",nameUrl:"Valiants_Watchlist"},{name:"Samuels Favoriten",filePath:"lists/Samuels_Favoriten.json",nameUrl:"Samuels_Favoriten"},{name:"Letterboxd's Top 250 Narrative Feature Films",filePath:"lists/Letterboxds_Top_250_Narrative_Feature_Films.json",nameUrl:"Letterboxds_Top_250_Narrative_Feature_Films"},{name:"Letterboxd's Top 1000 Movies with Over 50k Watched",filePath:"lists/Letterboxds_Top_1000_Movies_with_Over_50k_Watched.json",nameUrl:"Letterboxds_Top_1000_Movies_with_Over_50k_Watched"},{name:"Sight and Sound's Greatest Films of All Time 2022",filePath:"lists/Sight_and_Sounds_Greatest_Films_of_All_Time_2022.json",nameUrl:"Sight_and_Sounds_Greatest_Films_of_All_Time_2022"},{name:"TSPDT Top 1000 Greatest Films (2022 Edition)",filePath:"lists/TSPDT_Top_1000_Greatest_Films_2022_Edition.json",nameUrl:"TSPDT_Top_1000_Greatest_Films_2022_Edition"},{name:"2020 Edition: Top10ner’s 1001 ‘Greatest’ Movies of All Time",filePath:"lists/2020_Edition_Top10ners_1001_Greatest_Movies_of_All_Time.json",nameUrl:"2020_Edition_Top10ners_1001_Greatest_Movies_of_All_Time"},{name:"The Complete Criterion Collection",filePath:"lists/The_Complete_Criterion_Collection.json",nameUrl:"The_Complete_Criterion_Collection"},{name:"Top 100 Highest Rated Anime Films On IMDB",filePath:"lists/Top_100_Highest_Rated_Anime_Films_On_IMDB.json",nameUrl:"Top_100_Highest_Rated_Anime_Films_On_IMDB"},{name:"Top Anime Films (as chosen by Japanese critics and artists)",filePath:"lists/Top_Anime_Films_as_chosen_by_Japanese_critics_and_artists.json",nameUrl:"Top_Anime_Films_as_chosen_by_Japanese_critics_and_artists"},{name:"Psychedelic Films Compilation",filePath:"lists/Psychedelic_Films_Compilation.json",nameUrl:"Psychedelic_Films_Compilation"},{name:"The Ultimate Blaxploitation Movies List",filePath:"lists/The_Ultimate_Blaxploitation_Movies_List.json",nameUrl:"The_Ultimate_Blaxploitation_Movies_List"},{name:"Trashterpieces",filePath:"lists/Trashterpieces.json",nameUrl:"Trashterpieces"},{name:"A Symphony Of Trash",filePath:"lists/A_Symphony_Of_Trash.json",nameUrl:"A_Symphony_Of_Trash"},{name:"Trash",filePath:"lists/Trash.json",nameUrl:"Trash"}],{document:re}=Se;function oe(l,e,t){const a=l.slice();return a[10]=e[t],a}function _e(l,e,t){const a=l.slice();return a[13]=e[t],a}function he(l,e,t){const a=l.slice();return a[10]=e[t],a[16]=e,a[17]=t,a}function me(l,e,t){const a=l.slice();return a[18]=e[t],a}function Ae(l){let e,t,a,n,o,f,v,u,s,d,m=l[1].description+"",g,h,_,T,P,O=l[1].name+"",R,W,U,w,B,J,q,N=l[4],A=[];for(let i=0;i<N.length;i+=1)A[i]=ce(me(l,N,i));let Y=l[2],M=[];for(let i=0;i<Y.length;i+=1)M[i]=fe(he(l,Y,i));let z=l[2].filter(ve),F=[];for(let i=0;i<z.length;i+=1)F[i]=pe(oe(l,z,i));return{c(){e=S("select");for(let i=0;i<A.length;i+=1)A[i].c();t=C(),a=S("details"),n=S("summary"),o=j("Stream Providers"),f=C(),v=S("div");for(let i=0;i<M.length;i+=1)M[i].c();u=C(),s=S("div"),d=new Ue(!1),g=C(),h=S("a"),_=ae("svg"),T=ae("path"),P=j(`
				Open in Letterboxd: "`),R=j(O),W=j('"'),w=C(),B=S("div");for(let i=0;i<F.length;i+=1)F[i].c();this.h()},l(i){e=y(i,"SELECT",{id:!0});var L=E(e);for(let H=0;H<A.length;H+=1)A[H].l(L);L.forEach(c),t=V(i),a=y(i,"DETAILS",{style:!0});var r=E(a);n=y(r,"SUMMARY",{});var G=E(n);o=D(G,"Stream Providers"),G.forEach(c),f=V(r),v=y(r,"DIV",{style:!0});var ee=E(v);for(let H=0;H<M.length;H+=1)M[H].l(ee);ee.forEach(c),r.forEach(c),u=V(i),s=y(i,"DIV",{style:!0});var X=E(s);d=Le(X,!1),g=V(X),h=y(X,"A",{href:!0,target:!0,rel:!0});var Q=E(h);_=ie(Q,"svg",{xmlns:!0,style:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0});var te=E(_);T=ie(te,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),E(T).forEach(c),te.forEach(c),P=D(Q,`
				Open in Letterboxd: "`),R=D(Q,O),W=D(Q,'"'),Q.forEach(c),X.forEach(c),w=V(i),B=y(i,"DIV",{style:!0});var le=E(B);for(let H=0;H<F.length;H+=1)F[H].l(le);le.forEach(c),this.h()},h(){k(e,"id","lists-select"),l[0]===void 0&&we(()=>l[6].call(e)),b(v,"margin-bottom","3rem"),b(a,"margin-top","2rem"),d.a=g,k(T,"stroke-linecap","round"),k(T,"stroke-linejoin","round"),k(T,"d","M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"),k(_,"xmlns","http://www.w3.org/2000/svg"),b(_,"height","1.1rem"),b(_,"width","1.1rem"),k(_,"fill","none"),k(_,"viewBox","0 0 24 24"),k(_,"stroke-width","1.5"),k(_,"stroke","currentColor"),k(h,"href",U=l[1].url),k(h,"target","_blank"),k(h,"rel","noreferrer"),b(s,"margin-top","3rem"),b(B,"margin-top","3rem")},m(i,L){I(i,e,L);for(let r=0;r<A.length;r+=1)A[r].m(e,null);ne(e,l[0]),I(i,t,L),I(i,a,L),p(a,n),p(n,o),p(a,f),p(a,v);for(let r=0;r<M.length;r+=1)M[r].m(v,null);I(i,u,L),I(i,s,L),d.m(m,s),p(s,g),p(s,h),p(h,_),p(_,T),p(h,P),p(h,R),p(h,W),I(i,w,L),I(i,B,L);for(let r=0;r<F.length;r+=1)F[r].m(B,null);J||(q=[x(e,"change",l[6]),x(e,"change",l[5])],J=!0)},p(i,L){if(L&16){N=i[4];let r;for(r=0;r<N.length;r+=1){const G=me(i,N,r);A[r]?A[r].p(G,L):(A[r]=ce(G),A[r].c(),A[r].m(e,null))}for(;r<A.length;r+=1)A[r].d(1);A.length=N.length}if(L&17&&ne(e,i[0]),L&4){Y=i[2];let r;for(r=0;r<Y.length;r+=1){const G=he(i,Y,r);M[r]?M[r].p(G,L):(M[r]=fe(G),M[r].c(),M[r].m(v,null))}for(;r<M.length;r+=1)M[r].d(1);M.length=Y.length}if(L&2&&m!==(m=i[1].description+"")&&d.p(m),L&2&&O!==(O=i[1].name+"")&&K(R,O),L&2&&U!==(U=i[1].url)&&k(h,"href",U),L&6){z=i[2].filter(ve);let r;for(r=0;r<z.length;r+=1){const G=oe(i,z,r);F[r]?F[r].p(G,L):(F[r]=pe(G),F[r].c(),F[r].m(B,null))}for(;r<F.length;r+=1)F[r].d(1);F.length=z.length}},d(i){i&&c(e),Z(A,i),i&&c(t),i&&c(a),Z(M,i),i&&c(u),i&&c(s),i&&c(w),i&&c(B),Z(F,i),J=!1,ge(q)}}}function Me(l){var f;let e,t,a=(((f=l[0])==null?void 0:f.name)??"")+"",n,o;return{c(){e=S("h5"),t=j("Loading "),n=j(a),o=j("..."),this.h()},l(v){e=y(v,"H5",{"aria-busy":!0});var u=E(e);t=D(u,"Loading "),n=D(u,a),o=D(u,"..."),u.forEach(c),this.h()},h(){k(e,"aria-busy","true")},m(v,u){I(v,e,u),p(e,t),p(e,n),p(e,o)},p(v,u){var s;u&1&&a!==(a=(((s=v[0])==null?void 0:s.name)??"")+"")&&K(n,a)},d(v){v&&c(e)}}}function ce(l){let e,t=l[18].name+"",a;return{c(){e=S("option"),a=j(t),this.h()},l(n){e=y(n,"OPTION",{});var o=E(e);a=D(o,t),o.forEach(c),this.h()},h(){e.__value=l[18],e.value=e.__value},m(n,o){I(n,e,o),p(e,a)},p:$,d(n){n&&c(e)}}}function fe(l){let e,t,a,n,o,f=l[10].name+"",v,u,s,d,m,g;function h(){l[7].call(t,l[16],l[17])}function _(...T){return l[8](l[10],...T)}return{c(){e=S("div"),t=S("input"),n=C(),o=S("label"),v=j(f),d=C(),this.h()},l(T){e=y(T,"DIV",{style:!0});var P=E(e);t=y(P,"INPUT",{type:!0,id:!0}),n=V(P),o=y(P,"LABEL",{for:!0,title:!0,style:!0});var O=E(o);v=D(O,f),O.forEach(c),d=V(P),P.forEach(c),this.h()},h(){k(t,"type","checkbox"),k(t,"id",a=l[10].name),k(o,"for",u=l[10].name),k(o,"title",s=l[10].name),b(o,"font-size","14pt"),b(o,"text-overflow","ellipsis"),b(o,"white-space","nowrap"),b(o,"overflow","hidden"),b(o,"width","16rem"),b(e,"display","inline-block")},m(T,P){I(T,e,P),p(e,t),t.checked=l[10].enabled,p(e,n),p(e,o),p(o,v),p(e,d),m||(g=[x(t,"change",h),x(t,"change",_)],m=!0)},p(T,P){l=T,P&4&&a!==(a=l[10].name)&&k(t,"id",a),P&4&&(t.checked=l[10].enabled),P&4&&f!==(f=l[10].name+"")&&K(v,f),P&4&&u!==(u=l[10].name)&&k(o,"for",u),P&4&&s!==(s=l[10].name)&&k(o,"title",s)},d(T){T&&c(e),m=!1,ge(g)}}}function ue(l){let e;return{c(){e=j("Nothing found")},l(t){e=D(t,"Nothing found")},m(t,a){I(t,e,a)},d(t){t&&c(e)}}}function Fe(l){let e;return{c(){e=S("div")},l(t){e=y(t,"DIV",{}),E(e).forEach(c)},m(t,a){I(t,e,a)},p:$,d(t){t&&c(e)}}}function je(l){let e,t,a=l[13].listPosition+"",n;return{c(){e=S("div"),t=j("#"),n=j(a),this.h()},l(o){e=y(o,"DIV",{style:!0});var f=E(e);t=D(f,"#"),n=D(f,a),f.forEach(c),this.h()},h(){b(e,"padding-right","0.2rem"),b(e,"padding-left","0.1rem"),b(e,"padding-top","0"),b(e,"transform","translateY(-100%)"),b(e,"border-top-right-radius","0.3rem"),b(e,"width","fit-content"),b(e,"background-color","rgba(0 14 0 / 75%)")},m(o,f){I(o,e,f),p(e,t),p(e,n)},p(o,f){f&6&&a!==(a=o[13].listPosition+"")&&K(n,a)},d(o){o&&c(e)}}}function de(l){let e,t,a,n,o,f,v,u,s,d,m,g=l[13].rating+"",h,_,T,P;function O(U,w){return U[13].listPosition?je:Fe}let R=O(l),W=R(l);return{c(){e=S("div"),t=S("a"),a=S("div"),n=S("img"),u=C(),s=S("div"),W.c(),d=C(),m=S("div"),h=j(g),_=j("★"),P=C(),this.h()},l(U){e=y(U,"DIV",{style:!0});var w=E(e);t=y(w,"A",{href:!0});var B=E(t);a=y(B,"DIV",{style:!0});var J=E(a);n=y(J,"IMG",{src:!0,style:!0,title:!0,alt:!0}),u=V(J),s=y(J,"DIV",{style:!0});var q=E(s);W.l(q),d=V(q),m=y(q,"DIV",{style:!0});var N=E(m);h=D(N,g),_=D(N,"★"),N.forEach(c),q.forEach(c),J.forEach(c),B.forEach(c),P=V(w),w.forEach(c),this.h()},h(){se(n.src,o=l[13].imageUrl)||k(n,"src",o),b(n,"max-height","15rem"),b(n,"max-width","9.2rem"),k(n,"title",f=l[13].name),k(n,"alt",v=`${l[13].name}`),b(m,"padding-left","0.2rem"),b(m,"padding-top","0"),b(m,"transform","translateY(-100%)"),b(m,"border-top-left-radius","0.3rem"),b(m,"width","fit-content"),b(m,"background-color","rgba(0 14 0 / 75%)"),b(s,"display","flex"),b(s,"justify-content","space-between"),b(s,"font-size","8.5pt"),b(a,"display","relative"),k(t,"href",T=l[13].letterboxdUrl),b(e,"display","inline-block"),b(e,"margin-left","1rem"),b(e,"margin-bottom","1rem")},m(U,w){I(U,e,w),p(e,t),p(t,a),p(a,n),p(a,u),p(a,s),W.m(s,null),p(s,d),p(s,m),p(m,h),p(m,_),p(e,P)},p(U,w){w&6&&!se(n.src,o=U[13].imageUrl)&&k(n,"src",o),w&6&&f!==(f=U[13].name)&&k(n,"title",f),w&6&&v!==(v=`${U[13].name}`)&&k(n,"alt",v),R===(R=O(U))&&W?W.p(U,w):(W.d(1),W=R(U),W&&(W.c(),W.m(s,d))),w&6&&g!==(g=U[13].rating+"")&&K(h,g),w&6&&T!==(T=U[13].letterboxdUrl)&&k(t,"href",T)},d(U){U&&c(e),W.d()}}}function pe(l){let e,t,a=l[10].name+"",n,o,f,v;function u(...g){return l[9](l[10],...g)}let s=l[1].entries.filter(u),d=[];for(let g=0;g<s.length;g+=1)d[g]=de(_e(l,s,g));let m=null;return s.length||(m=ue()),{c(){e=S("section"),t=S("h2"),n=j(a),o=C(),f=S("div");for(let g=0;g<d.length;g+=1)d[g].c();m&&m.c(),v=C(),this.h()},l(g){e=y(g,"SECTION",{});var h=E(e);t=y(h,"H2",{style:!0});var _=E(t);n=D(_,a),_.forEach(c),o=V(h),f=y(h,"DIV",{});var T=E(f);for(let P=0;P<d.length;P+=1)d[P].l(T);m&&m.l(T),T.forEach(c),v=V(h),h.forEach(c),this.h()},h(){b(t,"margin-bottom","1rem")},m(g,h){I(g,e,h),p(e,t),p(t,n),p(e,o),p(e,f);for(let _=0;_<d.length;_+=1)d[_].m(f,null);m&&m.m(f,null),p(e,v)},p(g,h){if(l=g,h&4&&a!==(a=l[10].name+"")&&K(n,a),h&6){s=l[1].entries.filter(u);let _;for(_=0;_<s.length;_+=1){const T=_e(l,s,_);d[_]?d[_].p(T,h):(d[_]=de(T),d[_].c(),d[_].m(f,null))}for(;_<d.length;_+=1)d[_].d(1);d.length=s.length,s.length?m&&(m.d(1),m=null):m||(m=ue(),m.c(),m.m(f,null))}},d(g){g&&c(e),Z(d,g),m&&m.d()}}}function De(l){let e,t,a,n,o;function f(s,d){return s[3]?Me:Ae}let v=f(l),u=v(l);return{c(){e=C(),t=S("div"),a=S("h1"),n=j("Who Streams My Letterboxd List"),o=C(),u.c(),this.h()},l(s){Pe("svelte-1kn2mgw",re.head).forEach(c),e=V(s),t=y(s,"DIV",{class:!0,style:!0});var m=E(t);a=y(m,"H1",{});var g=E(a);n=D(g,"Who Streams My Letterboxd List"),g.forEach(c),o=V(m),u.l(m),m.forEach(c),this.h()},h(){re.title="Letterboxd List Streams",k(t,"class","container"),b(t,"margin-top","3rem")},m(s,d){I(s,e,d),I(s,t,d),p(t,a),p(a,n),p(t,o),u.m(t,null)},p(s,[d]){v===(v=f(s))&&u?u.p(s,d):(u.d(1),u=v(s),u&&(u.c(),u.m(t,null)))},i:$,o:$,d(s){s&&c(e),s&&c(t),u.d()}}}function We(l,e){const t=new URL(document.location);t.searchParams.set(l,e),window.history.pushState(null,"",t.toString())}function Ce(l,e){localStorage.setItem(`provider: ${l}`,e+"")}function Ve(l){return localStorage.getItem(`provider: ${l}`)==="true"}const ve=l=>l.enabled;function Oe(l,e,t){let a=Ie,n=a[0],o={name:"",description:"",entries:[],streamProviders:[],url:""},f=[],v=!0;Ee(()=>{const h=new URL(document.location).searchParams.get("list");h?t(0,n=a.find(_=>_.nameUrl===h)):t(0,n=a.find(_=>_.name===localStorage.getItem("selectedList"))),t(0,n??(n=a[0])),u()});async function u(){console.log(n==null?void 0:n.name.replaceAll(" ","_")),t(3,v=!0);try{t(1,o=await fetch(n.filePath).then(h=>h.json())),t(2,f=o.streamProviders.map(h=>({...h,enabled:Ve(h.name)}))),localStorage.setItem("selectedList",n.name),We("list",(n==null?void 0:n.nameUrl)??"")}finally{t(3,v=!1)}}function s(){n=ye(this),t(0,n),t(4,a)}function d(h,_){h[_].enabled=this.checked,t(2,f)}return[n,o,f,v,a,u,s,d,(h,_)=>{var T;return Ce(h.name,(T=_==null?void 0:_.target)==null?void 0:T.checked)},(h,_)=>_.streamProviders.includes(h.name)]}class Ge extends be{constructor(e){super(),Te(this,e,Oe,De,ke,{})}}export{Ge as default};
