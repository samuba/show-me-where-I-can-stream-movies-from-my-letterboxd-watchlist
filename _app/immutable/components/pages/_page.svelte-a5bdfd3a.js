import{S as be,i as Te,s as Ee,a as C,k as y,q as j,I as Pe,h as f,c as D,l as U,m as k,r as F,n as E,p as P,b as M,G as v,B as $,o as ke,J as ye,K as Ue,L as Le,M as ae,N as Se,O as ie,P as we,Q as ne,R as X,u as Y,T as Q,U as ge,V as se}from"../../chunks/index-4f4d7eab.js";const Ie=[{name:"Samuels Watchlist",filePath:"lists/Samuels_Watchlist.json",nameUrl:"Samuels_Watchlist"},{name:"Tamaras Watchlist",filePath:"lists/Tamaras_Watchlist.json",nameUrl:"Tamaras_Watchlist"},{name:"Valiants Watchlist",filePath:"lists/Valiants_Watchlist.json",nameUrl:"Valiants_Watchlist"},{name:"Samuels Favoriten",filePath:"lists/Samuels_Favoriten.json",nameUrl:"Samuels_Favoriten"},{name:"Letterboxd's Top 250 Narrative Feature Films",filePath:"lists/Letterboxds_Top_250_Narrative_Feature_Films.json",nameUrl:"Letterboxds_Top_250_Narrative_Feature_Films"},{name:"Letterboxd's Top 1000 Movies with Over 50k Watched",filePath:"lists/Letterboxds_Top_1000_Movies_with_Over_50k_Watched.json",nameUrl:"Letterboxds_Top_1000_Movies_with_Over_50k_Watched"},{name:"TSPDT Top 1000 Greatest Films (2022 Edition)",filePath:"lists/TSPDT_Top_1000_Greatest_Films_(2022_Edition).json",nameUrl:"TSPDT_Top_1000_Greatest_Films_(2022_Edition)"},{name:"2020 Edition: Top10ner’s 1001 ‘Greatest’ Movies of All Time",filePath:"lists/2020_Edition%3A_Top10ner%E2%80%99s_1001_%E2%80%98Greatest%E2%80%99_Movies_of_All_Time.json",nameUrl:"2020_Edition%3A_Top10ner%E2%80%99s_1001_%E2%80%98Greatest%E2%80%99_Movies_of_All_Time"},{name:"The Complete Criterion Collection",filePath:"lists/The_Complete_Criterion_Collection.json",nameUrl:"The_Complete_Criterion_Collection"},{name:"Top 100 Highest Rated Anime Films On IMDB",filePath:"lists/Top_100_Highest_Rated_Anime_Films_On_IMDB.json",nameUrl:"Top_100_Highest_Rated_Anime_Films_On_IMDB"},{name:"Top Anime Films (as chosen by Japanese critics and artists)",filePath:"lists/Top_Anime_Films_(as_chosen_by_Japanese_critics_and_artists).json",nameUrl:"Top_Anime_Films_(as_chosen_by_Japanese_critics_and_artists)"},{name:"Psychedelic Films Compilation",filePath:"lists/Psychedelic_Films_Compilation.json",nameUrl:"Psychedelic_Films_Compilation"},{name:"The Ultimate Blaxploitation Movies List",filePath:"lists/The_Ultimate_Blaxploitation_Movies_List.json",nameUrl:"The_Ultimate_Blaxploitation_Movies_List"},{name:"Trashterpieces",filePath:"lists/Trashterpieces.json",nameUrl:"Trashterpieces"},{name:"A Symphony Of Trash",filePath:"lists/A_Symphony_Of_Trash.json",nameUrl:"A_Symphony_Of_Trash"},{name:"Trash",filePath:"lists/Trash.json",nameUrl:"Trash"}],{document:re}=ye;function oe(l,e,t){const a=l.slice();return a[10]=e[t],a}function _e(l,e,t){const a=l.slice();return a[13]=e[t],a}function he(l,e,t){const a=l.slice();return a[10]=e[t],a[16]=e,a[17]=t,a}function me(l,e,t){const a=l.slice();return a[18]=e[t],a}function Ae(l){let e,t,a,n,h,g,u,c,r,_,d=l[1].description+"",p,m,o,T,b,S=l[1].name+"",N,W,G,B,H,Z,x,R=l[4],w=[];for(let i=0;i<R.length;i+=1)w[i]=ce(me(l,R,i));let J=l[2],I=[];for(let i=0;i<J.length;i+=1)I[i]=fe(he(l,J,i));let q=l[2].filter(pe),A=[];for(let i=0;i<q.length;i+=1)A[i]=ve(oe(l,q,i));return{c(){e=y("select");for(let i=0;i<w.length;i+=1)w[i].c();t=C(),a=y("details"),n=y("summary"),h=j("Stream Providers"),g=C(),u=y("div");for(let i=0;i<I.length;i+=1)I[i].c();c=C(),r=y("div"),_=new Le(!1),p=C(),m=y("a"),o=ae("svg"),T=ae("path"),b=j(`
				Open in Letterboxd: "`),N=j(S),W=j('"'),B=C(),H=y("div");for(let i=0;i<A.length;i+=1)A[i].c();this.h()},l(i){e=U(i,"SELECT",{id:!0});var L=k(e);for(let V=0;V<w.length;V+=1)w[V].l(L);L.forEach(f),t=D(i),a=U(i,"DETAILS",{style:!0});var s=k(a);n=U(s,"SUMMARY",{});var O=k(n);h=F(O,"Stream Providers"),O.forEach(f),g=D(s),u=U(s,"DIV",{style:!0});var ee=k(u);for(let V=0;V<I.length;V+=1)I[V].l(ee);ee.forEach(f),s.forEach(f),c=D(i),r=U(i,"DIV",{style:!0});var K=k(r);_=Se(K,!1),p=D(K),m=U(K,"A",{href:!0,target:!0,rel:!0});var z=k(m);o=ie(z,"svg",{xmlns:!0,style:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0});var te=k(o);T=ie(te,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),k(T).forEach(f),te.forEach(f),b=F(z,`
				Open in Letterboxd: "`),N=F(z,S),W=F(z,'"'),z.forEach(f),K.forEach(f),B=D(i),H=U(i,"DIV",{style:!0});var le=k(H);for(let V=0;V<A.length;V+=1)A[V].l(le);le.forEach(f),this.h()},h(){E(e,"id","lists-select"),l[0]===void 0&&we(()=>l[6].call(e)),P(u,"margin-bottom","3rem"),P(a,"margin-top","2rem"),_.a=p,E(T,"stroke-linecap","round"),E(T,"stroke-linejoin","round"),E(T,"d","M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"),E(o,"xmlns","http://www.w3.org/2000/svg"),P(o,"height","1.1rem"),P(o,"width","1.1rem"),E(o,"fill","none"),E(o,"viewBox","0 0 24 24"),E(o,"stroke-width","1.5"),E(o,"stroke","currentColor"),E(m,"href",G=l[1].url),E(m,"target","_blank"),E(m,"rel","noreferrer"),P(r,"margin-top","3rem"),P(H,"margin-top","3rem")},m(i,L){M(i,e,L);for(let s=0;s<w.length;s+=1)w[s].m(e,null);ne(e,l[0]),M(i,t,L),M(i,a,L),v(a,n),v(n,h),v(a,g),v(a,u);for(let s=0;s<I.length;s+=1)I[s].m(u,null);M(i,c,L),M(i,r,L),_.m(d,r),v(r,p),v(r,m),v(m,o),v(o,T),v(m,b),v(m,N),v(m,W),M(i,B,L),M(i,H,L);for(let s=0;s<A.length;s+=1)A[s].m(H,null);Z||(x=[X(e,"change",l[6]),X(e,"change",l[5])],Z=!0)},p(i,L){if(L&16){R=i[4];let s;for(s=0;s<R.length;s+=1){const O=me(i,R,s);w[s]?w[s].p(O,L):(w[s]=ce(O),w[s].c(),w[s].m(e,null))}for(;s<w.length;s+=1)w[s].d(1);w.length=R.length}if(L&17&&ne(e,i[0]),L&4){J=i[2];let s;for(s=0;s<J.length;s+=1){const O=he(i,J,s);I[s]?I[s].p(O,L):(I[s]=fe(O),I[s].c(),I[s].m(u,null))}for(;s<I.length;s+=1)I[s].d(1);I.length=J.length}if(L&2&&d!==(d=i[1].description+"")&&_.p(d),L&2&&S!==(S=i[1].name+"")&&Y(N,S),L&2&&G!==(G=i[1].url)&&E(m,"href",G),L&6){q=i[2].filter(pe);let s;for(s=0;s<q.length;s+=1){const O=oe(i,q,s);A[s]?A[s].p(O,L):(A[s]=ve(O),A[s].c(),A[s].m(H,null))}for(;s<A.length;s+=1)A[s].d(1);A.length=q.length}},d(i){i&&f(e),Q(w,i),i&&f(t),i&&f(a),Q(I,i),i&&f(c),i&&f(r),i&&f(B),i&&f(H),Q(A,i),Z=!1,ge(x)}}}function Me(l){var g;let e,t,a=(((g=l[0])==null?void 0:g.name)??"")+"",n,h;return{c(){e=y("h5"),t=j("Loading "),n=j(a),h=j("..."),this.h()},l(u){e=U(u,"H5",{"aria-busy":!0});var c=k(e);t=F(c,"Loading "),n=F(c,a),h=F(c,"..."),c.forEach(f),this.h()},h(){E(e,"aria-busy","true")},m(u,c){M(u,e,c),v(e,t),v(e,n),v(e,h)},p(u,c){var r;c&1&&a!==(a=(((r=u[0])==null?void 0:r.name)??"")+"")&&Y(n,a)},d(u){u&&f(e)}}}function ce(l){let e,t=l[18].name+"",a;return{c(){e=y("option"),a=j(t),this.h()},l(n){e=U(n,"OPTION",{});var h=k(e);a=F(h,t),h.forEach(f),this.h()},h(){e.__value=l[18],e.value=e.__value},m(n,h){M(n,e,h),v(e,a)},p:$,d(n){n&&f(e)}}}function fe(l){let e,t,a,n,h,g=l[10].name+"",u,c,r,_,d,p;function m(){l[7].call(t,l[16],l[17])}function o(...T){return l[8](l[10],...T)}return{c(){e=y("div"),t=y("input"),n=C(),h=y("label"),u=j(g),_=C(),this.h()},l(T){e=U(T,"DIV",{style:!0});var b=k(e);t=U(b,"INPUT",{type:!0,id:!0}),n=D(b),h=U(b,"LABEL",{for:!0,title:!0,style:!0});var S=k(h);u=F(S,g),S.forEach(f),_=D(b),b.forEach(f),this.h()},h(){E(t,"type","checkbox"),E(t,"id",a=l[10].name),E(h,"for",c=l[10].name),E(h,"title",r=l[10].name),P(h,"font-size","14pt"),P(h,"text-overflow","ellipsis"),P(h,"white-space","nowrap"),P(h,"overflow","hidden"),P(h,"width","16rem"),P(e,"display","inline-block")},m(T,b){M(T,e,b),v(e,t),t.checked=l[10].enabled,v(e,n),v(e,h),v(h,u),v(e,_),d||(p=[X(t,"change",m),X(t,"change",o)],d=!0)},p(T,b){l=T,b&4&&a!==(a=l[10].name)&&E(t,"id",a),b&4&&(t.checked=l[10].enabled),b&4&&g!==(g=l[10].name+"")&&Y(u,g),b&4&&c!==(c=l[10].name)&&E(h,"for",c),b&4&&r!==(r=l[10].name)&&E(h,"title",r)},d(T){T&&f(e),d=!1,ge(p)}}}function ue(l){let e;return{c(){e=j("Nothing found")},l(t){e=F(t,"Nothing found")},m(t,a){M(t,e,a)},d(t){t&&f(e)}}}function de(l){let e,t,a,n,h,g,u,c,r,_,d=l[13].rating+"",p,m,o,T;return{c(){e=y("div"),t=y("a"),a=y("div"),n=y("img"),c=C(),r=y("div"),_=y("div"),p=j(d),m=j("★"),T=C(),this.h()},l(b){e=U(b,"DIV",{style:!0});var S=k(e);t=U(S,"A",{href:!0});var N=k(t);a=U(N,"DIV",{style:!0});var W=k(a);n=U(W,"IMG",{src:!0,style:!0,title:!0,alt:!0}),c=D(W),r=U(W,"DIV",{style:!0});var G=k(r);_=U(G,"DIV",{style:!0});var B=k(_);p=F(B,d),m=F(B,"★"),B.forEach(f),G.forEach(f),W.forEach(f),N.forEach(f),T=D(S),S.forEach(f),this.h()},h(){se(n.src,h=l[13].imageUrl)||E(n,"src",h),P(n,"max-height","15rem"),P(n,"max-width","9.2rem"),E(n,"title",g=l[13].name),E(n,"alt",u=`${l[13].name}`),P(_,"font-size","8.5pt"),P(_,"padding-left","0.2rem"),P(_,"padding-top","0"),P(_,"transform","translateY(-100%)"),P(_,"border-top-left-radius","0.3rem"),P(_,"width","fit-content"),P(_,"background-color","rgba(0 14 0 / 75%)"),P(r,"display","flex"),P(r,"justify-content","flex-end"),P(a,"display","relative"),E(t,"href",o=l[13].letterboxdUrl),P(e,"display","inline-block"),P(e,"margin-left","1rem"),P(e,"margin-bottom","1rem")},m(b,S){M(b,e,S),v(e,t),v(t,a),v(a,n),v(a,c),v(a,r),v(r,_),v(_,p),v(_,m),v(e,T)},p(b,S){S&6&&!se(n.src,h=b[13].imageUrl)&&E(n,"src",h),S&6&&g!==(g=b[13].name)&&E(n,"title",g),S&6&&u!==(u=`${b[13].name}`)&&E(n,"alt",u),S&6&&d!==(d=b[13].rating+"")&&Y(p,d),S&6&&o!==(o=b[13].letterboxdUrl)&&E(t,"href",o)},d(b){b&&f(e)}}}function ve(l){let e,t,a=l[10].name+"",n,h,g,u;function c(...p){return l[9](l[10],...p)}let r=l[1].entries.filter(c),_=[];for(let p=0;p<r.length;p+=1)_[p]=de(_e(l,r,p));let d=null;return r.length||(d=ue()),{c(){e=y("section"),t=y("h2"),n=j(a),h=C(),g=y("div");for(let p=0;p<_.length;p+=1)_[p].c();d&&d.c(),u=C(),this.h()},l(p){e=U(p,"SECTION",{});var m=k(e);t=U(m,"H2",{style:!0});var o=k(t);n=F(o,a),o.forEach(f),h=D(m),g=U(m,"DIV",{});var T=k(g);for(let b=0;b<_.length;b+=1)_[b].l(T);d&&d.l(T),T.forEach(f),u=D(m),m.forEach(f),this.h()},h(){P(t,"margin-bottom","1rem")},m(p,m){M(p,e,m),v(e,t),v(t,n),v(e,h),v(e,g);for(let o=0;o<_.length;o+=1)_[o].m(g,null);d&&d.m(g,null),v(e,u)},p(p,m){if(l=p,m&4&&a!==(a=l[10].name+"")&&Y(n,a),m&6){r=l[1].entries.filter(c);let o;for(o=0;o<r.length;o+=1){const T=_e(l,r,o);_[o]?_[o].p(T,m):(_[o]=de(T),_[o].c(),_[o].m(g,null))}for(;o<_.length;o+=1)_[o].d(1);_.length=r.length,r.length?d&&(d.d(1),d=null):d||(d=ue(),d.c(),d.m(g,null))}},d(p){p&&f(e),Q(_,p),d&&d.d()}}}function je(l){let e,t,a,n,h;function g(r,_){return r[3]?Me:Ae}let u=g(l),c=u(l);return{c(){e=C(),t=y("div"),a=y("h1"),n=j("Who Streams My Letterboxd List"),h=C(),c.c(),this.h()},l(r){Pe("svelte-1kn2mgw",re.head).forEach(f),e=D(r),t=U(r,"DIV",{class:!0,style:!0});var d=k(t);a=U(d,"H1",{});var p=k(a);n=F(p,"Who Streams My Letterboxd List"),p.forEach(f),h=D(d),c.l(d),d.forEach(f),this.h()},h(){re.title="Letterboxd List Streams",E(t,"class","container"),P(t,"margin-top","3rem")},m(r,_){M(r,e,_),M(r,t,_),v(t,a),v(a,n),v(t,h),c.m(t,null)},p(r,[_]){u===(u=g(r))&&c?c.p(r,_):(c.d(1),c=u(r),c&&(c.c(),c.m(t,null)))},i:$,o:$,d(r){r&&f(e),r&&f(t),c.d()}}}function Fe(l,e){const t=new URL(document.location);t.searchParams.set(l,e),window.history.pushState(null,"",t.toString())}function Ce(l,e){localStorage.setItem(`provider: ${l}`,e+"")}function De(l){return localStorage.getItem(`provider: ${l}`)==="true"}const pe=l=>l.enabled;function Oe(l,e,t){let a=Ie,n=a[0],h={name:"",description:"",entries:[],streamProviders:[],url:""},g=[],u=!0;ke(()=>{const m=new URL(document.location).searchParams.get("list");m?t(0,n=a.find(o=>o.nameUrl===m)):t(0,n=a.find(o=>o.name===localStorage.getItem("selectedList"))),t(0,n??(n=a[0])),c()});async function c(){console.log(n==null?void 0:n.name.replaceAll(" ","_")),t(3,u=!0);try{t(1,h=await fetch(n.filePath).then(m=>m.json())),t(2,g=h.streamProviders.map(m=>({...m,enabled:De(m.name)}))),localStorage.setItem("selectedList",n.name),Fe("list",(n==null?void 0:n.nameUrl)??"")}finally{t(3,u=!1)}}function r(){n=Ue(this),t(0,n),t(4,a)}function _(m,o){m[o].enabled=this.checked,t(2,g)}return[n,h,g,u,a,c,r,_,(m,o)=>{var T;return Ce(m.name,(T=o==null?void 0:o.target)==null?void 0:T.checked)},(m,o)=>o.streamProviders.includes(m.name)]}class We extends be{constructor(e){super(),Te(this,e,Oe,je,Ee,{})}}export{We as default};
