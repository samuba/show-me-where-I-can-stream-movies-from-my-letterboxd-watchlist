import{S as be,i as Te,s as Pe,a as C,k as S,q as j,I as ke,h as c,c as D,l as y,m as E,r as M,n as P,p as k,b as F,G as v,B as $,o as Ee,J as Se,K as ye,L as Ue,M as ae,N as Le,O as ie,P as we,Q as se,R as X,u as Y,T as Q,U as ge,V as ne}from"../../chunks/index-4f4d7eab.js";const Ae=[{name:"Samuels Watchlist",filePath:"lists/Samuels_Watchlist.json",nameUrl:"Samuels_Watchlist"},{name:"Tamaras Watchlist",filePath:"lists/Tamaras_Watchlist.json",nameUrl:"Tamaras_Watchlist"},{name:"Valiants Watchlist",filePath:"lists/Valiants_Watchlist.json",nameUrl:"Valiants_Watchlist"},{name:"Samuels Favoriten",filePath:"lists/Samuels_Favoriten.json",nameUrl:"Samuels_Favoriten"},{name:"Letterboxd's Top 250 Narrative Feature Films",filePath:"lists/Letterboxds_Top_250_Narrative_Feature_Films.json",nameUrl:"Letterboxds_Top_250_Narrative_Feature_Films"},{name:"Letterboxd's Top 1000 Movies with Over 50k Watched",filePath:"lists/Letterboxds_Top_1000_Movies_with_Over_50k_Watched.json",nameUrl:"Letterboxds_Top_1000_Movies_with_Over_50k_Watched"},{name:"Sight and Sound's Greatest Films of All Time 2022",filePath:"lists/Sight_and_Sounds_Greatest_Films_of_All_Time_2022.json",nameUrl:"Sight_and_Sounds_Greatest_Films_of_All_Time_2022"},{name:"TSPDT Top 1000 Greatest Films (2022 Edition)",filePath:"lists/TSPDT_Top_1000_Greatest_Films_2022_Edition.json",nameUrl:"TSPDT_Top_1000_Greatest_Films_2022_Edition"},{name:"2020 Edition: Top10ner’s 1001 ‘Greatest’ Movies of All Time",filePath:"lists/2020_Edition_Top10ners_1001_Greatest_Movies_of_All_Time.json",nameUrl:"2020_Edition_Top10ners_1001_Greatest_Movies_of_All_Time"},{name:"The Complete Criterion Collection",filePath:"lists/The_Complete_Criterion_Collection.json",nameUrl:"The_Complete_Criterion_Collection"},{name:"Top 100 Highest Rated Anime Films On IMDB",filePath:"lists/Top_100_Highest_Rated_Anime_Films_On_IMDB.json",nameUrl:"Top_100_Highest_Rated_Anime_Films_On_IMDB"},{name:"Top Anime Films (as chosen by Japanese critics and artists)",filePath:"lists/Top_Anime_Films_as_chosen_by_Japanese_critics_and_artists.json",nameUrl:"Top_Anime_Films_as_chosen_by_Japanese_critics_and_artists"},{name:"Psychedelic Films Compilation",filePath:"lists/Psychedelic_Films_Compilation.json",nameUrl:"Psychedelic_Films_Compilation"},{name:"The Ultimate Blaxploitation Movies List",filePath:"lists/The_Ultimate_Blaxploitation_Movies_List.json",nameUrl:"The_Ultimate_Blaxploitation_Movies_List"},{name:"Trashterpieces",filePath:"lists/Trashterpieces.json",nameUrl:"Trashterpieces"},{name:"A Symphony Of Trash",filePath:"lists/A_Symphony_Of_Trash.json",nameUrl:"A_Symphony_Of_Trash"},{name:"Trash",filePath:"lists/Trash.json",nameUrl:"Trash"}],{document:re}=Se;function oe(l,e,t){const a=l.slice();return a[10]=e[t],a}function _e(l,e,t){const a=l.slice();return a[13]=e[t],a}function he(l,e,t){const a=l.slice();return a[10]=e[t],a[16]=e,a[17]=t,a}function me(l,e,t){const a=l.slice();return a[18]=e[t],a}function Ie(l){let e,t,a,s,h,g,u,f,r,_,d=l[1].description+"",p,m,o,T,b,L=l[1].name+"",H,W,N,G,B,Z,x,R=l[4],w=[];for(let i=0;i<R.length;i+=1)w[i]=fe(me(l,R,i));let J=l[2],A=[];for(let i=0;i<J.length;i+=1)A[i]=ce(he(l,J,i));let q=l[2].filter(pe),I=[];for(let i=0;i<q.length;i+=1)I[i]=ve(oe(l,q,i));return{c(){e=S("select");for(let i=0;i<w.length;i+=1)w[i].c();t=C(),a=S("details"),s=S("summary"),h=j("Stream Providers"),g=C(),u=S("div");for(let i=0;i<A.length;i+=1)A[i].c();f=C(),r=S("div"),_=new Ue(!1),p=C(),m=S("a"),o=ae("svg"),T=ae("path"),b=j(`
				Open in Letterboxd: "`),H=j(L),W=j('"'),G=C(),B=S("div");for(let i=0;i<I.length;i+=1)I[i].c();this.h()},l(i){e=y(i,"SELECT",{id:!0});var U=E(e);for(let V=0;V<w.length;V+=1)w[V].l(U);U.forEach(c),t=D(i),a=y(i,"DETAILS",{style:!0});var n=E(a);s=y(n,"SUMMARY",{});var O=E(s);h=M(O,"Stream Providers"),O.forEach(c),g=D(n),u=y(n,"DIV",{style:!0});var ee=E(u);for(let V=0;V<A.length;V+=1)A[V].l(ee);ee.forEach(c),n.forEach(c),f=D(i),r=y(i,"DIV",{style:!0});var K=E(r);_=Le(K,!1),p=D(K),m=y(K,"A",{href:!0,target:!0,rel:!0});var z=E(m);o=ie(z,"svg",{xmlns:!0,style:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0});var te=E(o);T=ie(te,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),E(T).forEach(c),te.forEach(c),b=M(z,`
				Open in Letterboxd: "`),H=M(z,L),W=M(z,'"'),z.forEach(c),K.forEach(c),G=D(i),B=y(i,"DIV",{style:!0});var le=E(B);for(let V=0;V<I.length;V+=1)I[V].l(le);le.forEach(c),this.h()},h(){P(e,"id","lists-select"),l[0]===void 0&&we(()=>l[6].call(e)),k(u,"margin-bottom","3rem"),k(a,"margin-top","2rem"),_.a=p,P(T,"stroke-linecap","round"),P(T,"stroke-linejoin","round"),P(T,"d","M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"),P(o,"xmlns","http://www.w3.org/2000/svg"),k(o,"height","1.1rem"),k(o,"width","1.1rem"),P(o,"fill","none"),P(o,"viewBox","0 0 24 24"),P(o,"stroke-width","1.5"),P(o,"stroke","currentColor"),P(m,"href",N=l[1].url),P(m,"target","_blank"),P(m,"rel","noreferrer"),k(r,"margin-top","3rem"),k(B,"margin-top","3rem")},m(i,U){F(i,e,U);for(let n=0;n<w.length;n+=1)w[n].m(e,null);se(e,l[0]),F(i,t,U),F(i,a,U),v(a,s),v(s,h),v(a,g),v(a,u);for(let n=0;n<A.length;n+=1)A[n].m(u,null);F(i,f,U),F(i,r,U),_.m(d,r),v(r,p),v(r,m),v(m,o),v(o,T),v(m,b),v(m,H),v(m,W),F(i,G,U),F(i,B,U);for(let n=0;n<I.length;n+=1)I[n].m(B,null);Z||(x=[X(e,"change",l[6]),X(e,"change",l[5])],Z=!0)},p(i,U){if(U&16){R=i[4];let n;for(n=0;n<R.length;n+=1){const O=me(i,R,n);w[n]?w[n].p(O,U):(w[n]=fe(O),w[n].c(),w[n].m(e,null))}for(;n<w.length;n+=1)w[n].d(1);w.length=R.length}if(U&17&&se(e,i[0]),U&4){J=i[2];let n;for(n=0;n<J.length;n+=1){const O=he(i,J,n);A[n]?A[n].p(O,U):(A[n]=ce(O),A[n].c(),A[n].m(u,null))}for(;n<A.length;n+=1)A[n].d(1);A.length=J.length}if(U&2&&d!==(d=i[1].description+"")&&_.p(d),U&2&&L!==(L=i[1].name+"")&&Y(H,L),U&2&&N!==(N=i[1].url)&&P(m,"href",N),U&6){q=i[2].filter(pe);let n;for(n=0;n<q.length;n+=1){const O=oe(i,q,n);I[n]?I[n].p(O,U):(I[n]=ve(O),I[n].c(),I[n].m(B,null))}for(;n<I.length;n+=1)I[n].d(1);I.length=q.length}},d(i){i&&c(e),Q(w,i),i&&c(t),i&&c(a),Q(A,i),i&&c(f),i&&c(r),i&&c(G),i&&c(B),Q(I,i),Z=!1,ge(x)}}}function Fe(l){var g;let e,t,a=(((g=l[0])==null?void 0:g.name)??"")+"",s,h;return{c(){e=S("h5"),t=j("Loading "),s=j(a),h=j("..."),this.h()},l(u){e=y(u,"H5",{"aria-busy":!0});var f=E(e);t=M(f,"Loading "),s=M(f,a),h=M(f,"..."),f.forEach(c),this.h()},h(){P(e,"aria-busy","true")},m(u,f){F(u,e,f),v(e,t),v(e,s),v(e,h)},p(u,f){var r;f&1&&a!==(a=(((r=u[0])==null?void 0:r.name)??"")+"")&&Y(s,a)},d(u){u&&c(e)}}}function fe(l){let e,t=l[18].name+"",a;return{c(){e=S("option"),a=j(t),this.h()},l(s){e=y(s,"OPTION",{});var h=E(e);a=M(h,t),h.forEach(c),this.h()},h(){e.__value=l[18],e.value=e.__value},m(s,h){F(s,e,h),v(e,a)},p:$,d(s){s&&c(e)}}}function ce(l){let e,t,a,s,h,g=l[10].name+"",u,f,r,_,d,p;function m(){l[7].call(t,l[16],l[17])}function o(...T){return l[8](l[10],...T)}return{c(){e=S("div"),t=S("input"),s=C(),h=S("label"),u=j(g),_=C(),this.h()},l(T){e=y(T,"DIV",{style:!0});var b=E(e);t=y(b,"INPUT",{type:!0,id:!0}),s=D(b),h=y(b,"LABEL",{for:!0,title:!0,style:!0});var L=E(h);u=M(L,g),L.forEach(c),_=D(b),b.forEach(c),this.h()},h(){P(t,"type","checkbox"),P(t,"id",a=l[10].name),P(h,"for",f=l[10].name),P(h,"title",r=l[10].name),k(h,"font-size","14pt"),k(h,"text-overflow","ellipsis"),k(h,"white-space","nowrap"),k(h,"overflow","hidden"),k(h,"width","16rem"),k(e,"display","inline-block")},m(T,b){F(T,e,b),v(e,t),t.checked=l[10].enabled,v(e,s),v(e,h),v(h,u),v(e,_),d||(p=[X(t,"change",m),X(t,"change",o)],d=!0)},p(T,b){l=T,b&4&&a!==(a=l[10].name)&&P(t,"id",a),b&4&&(t.checked=l[10].enabled),b&4&&g!==(g=l[10].name+"")&&Y(u,g),b&4&&f!==(f=l[10].name)&&P(h,"for",f),b&4&&r!==(r=l[10].name)&&P(h,"title",r)},d(T){T&&c(e),d=!1,ge(p)}}}function ue(l){let e;return{c(){e=j("Nothing found")},l(t){e=M(t,"Nothing found")},m(t,a){F(t,e,a)},d(t){t&&c(e)}}}function de(l){let e,t,a,s,h,g,u,f,r,_,d=l[13].rating+"",p,m,o,T;return{c(){e=S("div"),t=S("a"),a=S("div"),s=S("img"),f=C(),r=S("div"),_=S("div"),p=j(d),m=j("★"),T=C(),this.h()},l(b){e=y(b,"DIV",{style:!0});var L=E(e);t=y(L,"A",{href:!0});var H=E(t);a=y(H,"DIV",{style:!0});var W=E(a);s=y(W,"IMG",{src:!0,style:!0,title:!0,alt:!0}),f=D(W),r=y(W,"DIV",{style:!0});var N=E(r);_=y(N,"DIV",{style:!0});var G=E(_);p=M(G,d),m=M(G,"★"),G.forEach(c),N.forEach(c),W.forEach(c),H.forEach(c),T=D(L),L.forEach(c),this.h()},h(){ne(s.src,h=l[13].imageUrl)||P(s,"src",h),k(s,"max-height","15rem"),k(s,"max-width","9.2rem"),P(s,"title",g=l[13].name),P(s,"alt",u=`${l[13].name}`),k(_,"font-size","8.5pt"),k(_,"padding-left","0.2rem"),k(_,"padding-top","0"),k(_,"transform","translateY(-100%)"),k(_,"border-top-left-radius","0.3rem"),k(_,"width","fit-content"),k(_,"background-color","rgba(0 14 0 / 75%)"),k(r,"display","flex"),k(r,"justify-content","flex-end"),k(a,"display","relative"),P(t,"href",o=l[13].letterboxdUrl),k(e,"display","inline-block"),k(e,"margin-left","1rem"),k(e,"margin-bottom","1rem")},m(b,L){F(b,e,L),v(e,t),v(t,a),v(a,s),v(a,f),v(a,r),v(r,_),v(_,p),v(_,m),v(e,T)},p(b,L){L&6&&!ne(s.src,h=b[13].imageUrl)&&P(s,"src",h),L&6&&g!==(g=b[13].name)&&P(s,"title",g),L&6&&u!==(u=`${b[13].name}`)&&P(s,"alt",u),L&6&&d!==(d=b[13].rating+"")&&Y(p,d),L&6&&o!==(o=b[13].letterboxdUrl)&&P(t,"href",o)},d(b){b&&c(e)}}}function ve(l){let e,t,a=l[10].name+"",s,h,g,u;function f(...p){return l[9](l[10],...p)}let r=l[1].entries.filter(f),_=[];for(let p=0;p<r.length;p+=1)_[p]=de(_e(l,r,p));let d=null;return r.length||(d=ue()),{c(){e=S("section"),t=S("h2"),s=j(a),h=C(),g=S("div");for(let p=0;p<_.length;p+=1)_[p].c();d&&d.c(),u=C(),this.h()},l(p){e=y(p,"SECTION",{});var m=E(e);t=y(m,"H2",{style:!0});var o=E(t);s=M(o,a),o.forEach(c),h=D(m),g=y(m,"DIV",{});var T=E(g);for(let b=0;b<_.length;b+=1)_[b].l(T);d&&d.l(T),T.forEach(c),u=D(m),m.forEach(c),this.h()},h(){k(t,"margin-bottom","1rem")},m(p,m){F(p,e,m),v(e,t),v(t,s),v(e,h),v(e,g);for(let o=0;o<_.length;o+=1)_[o].m(g,null);d&&d.m(g,null),v(e,u)},p(p,m){if(l=p,m&4&&a!==(a=l[10].name+"")&&Y(s,a),m&6){r=l[1].entries.filter(f);let o;for(o=0;o<r.length;o+=1){const T=_e(l,r,o);_[o]?_[o].p(T,m):(_[o]=de(T),_[o].c(),_[o].m(g,null))}for(;o<_.length;o+=1)_[o].d(1);_.length=r.length,r.length?d&&(d.d(1),d=null):d||(d=ue(),d.c(),d.m(g,null))}},d(p){p&&c(e),Q(_,p),d&&d.d()}}}function je(l){let e,t,a,s,h;function g(r,_){return r[3]?Fe:Ie}let u=g(l),f=u(l);return{c(){e=C(),t=S("div"),a=S("h1"),s=j("Who Streams My Letterboxd List"),h=C(),f.c(),this.h()},l(r){ke("svelte-1kn2mgw",re.head).forEach(c),e=D(r),t=y(r,"DIV",{class:!0,style:!0});var d=E(t);a=y(d,"H1",{});var p=E(a);s=M(p,"Who Streams My Letterboxd List"),p.forEach(c),h=D(d),f.l(d),d.forEach(c),this.h()},h(){re.title="Letterboxd List Streams",P(t,"class","container"),k(t,"margin-top","3rem")},m(r,_){F(r,e,_),F(r,t,_),v(t,a),v(a,s),v(t,h),f.m(t,null)},p(r,[_]){u===(u=g(r))&&f?f.p(r,_):(f.d(1),f=u(r),f&&(f.c(),f.m(t,null)))},i:$,o:$,d(r){r&&c(e),r&&c(t),f.d()}}}function Me(l,e){const t=new URL(document.location);t.searchParams.set(l,e),window.history.pushState(null,"",t.toString())}function Ce(l,e){localStorage.setItem(`provider: ${l}`,e+"")}function De(l){return localStorage.getItem(`provider: ${l}`)==="true"}const pe=l=>l.enabled;function Oe(l,e,t){let a=Ae,s=a[0],h={name:"",description:"",entries:[],streamProviders:[],url:""},g=[],u=!0;Ee(()=>{const m=new URL(document.location).searchParams.get("list");m?t(0,s=a.find(o=>o.nameUrl===m)):t(0,s=a.find(o=>o.name===localStorage.getItem("selectedList"))),t(0,s??(s=a[0])),f()});async function f(){console.log(s==null?void 0:s.name.replaceAll(" ","_")),t(3,u=!0);try{t(1,h=await fetch(s.filePath).then(m=>m.json())),t(2,g=h.streamProviders.map(m=>({...m,enabled:De(m.name)}))),localStorage.setItem("selectedList",s.name),Me("list",(s==null?void 0:s.nameUrl)??"")}finally{t(3,u=!1)}}function r(){s=ye(this),t(0,s),t(4,a)}function _(m,o){m[o].enabled=this.checked,t(2,g)}return[s,h,g,u,a,f,r,_,(m,o)=>{var T;return Ce(m.name,(T=o==null?void 0:o.target)==null?void 0:T.checked)},(m,o)=>o.streamProviders.includes(m.name)]}class We extends be{constructor(e){super(),Te(this,e,Oe,je,Pe,{})}}export{We as default};
