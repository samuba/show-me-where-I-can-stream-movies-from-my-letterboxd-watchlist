import{S as pe,i as be,s as Ee,a as X,k as G,q as j,I as Ie,h as d,c as L,l as w,m as y,r as S,n as b,p as P,b as F,G as p,B as $,o as ke,J as ye,K as Ge,L as ae,M as we,N as ne,O as Pe,P as ie,Q,u as z,R as O,T as ve,U as re}from"../../chunks/index-a5caf477.js";const Me=[{name:"Samuels Watchlist",filePath:"U2FtdWVscyBXYXRjaGxpc3Q=.json"},{name:"Tamaras Watchlist",filePath:"VGFtYXJhcyBXYXRjaGxpc3Q=.json"},{name:"Samuels Favoriten",filePath:"U2FtdWVscyBGYXZvcml0ZW4=.json"},{name:"Letterboxd's Top 250 Narrative Feature Films",filePath:"TGV0dGVyYm94ZCdzIFRvcCAyNTAgTmFycmF0aXZlIEZlYXR1cmUgRmlsbXM=.json"},{name:"Letterboxd's Top 1000 Movies with Over 50k Watched",filePath:"TGV0dGVyYm94ZCdzIFRvcCAxMDAwIE1vdmllcyB3aXRoIE92ZXIgNTBrIFdhdGNoZWQ=.json"},{name:"TSPDT Top 1000 Greatest Films (2022 Edition)",filePath:"VFNQRFQgVG9wIDEwMDAgR3JlYXRlc3QgRmlsbXMgKDIwMjIgRWRpdGlvbik=.json"},{name:"2020 Edition: Top10ner’s 1001 ‘Greatest’ Movies of All Time",filePath:"MjAyMCBFZGl0aW9uOiBUb3AxMG5lcuKAmXMgMTAwMSDigJhHcmVhdGVzdOKAmSBNb3ZpZXMgb2YgQWxsIFRpbWU=.json"},{name:"The Complete Criterion Collection",filePath:"VGhlIENvbXBsZXRlIENyaXRlcmlvbiBDb2xsZWN0aW9u.json"},{name:"Top 100 Highest Rated Anime Films On IMDB",filePath:"VG9wIDEwMCBIaWdoZXN0IFJhdGVkIEFuaW1lIEZpbG1zIE9uIElNREI=.json"},{name:"Top Anime Films (as chosen by Japanese critics and artists)",filePath:"VG9wIEFuaW1lIEZpbG1zIChhcyBjaG9zZW4gYnkgSmFwYW5lc2UgY3JpdGljcyBhbmQgYXJ0aXN0cyk=.json"},{name:"Psychedelic Films Compilation",filePath:"UHN5Y2hlZGVsaWMgRmlsbXMgQ29tcGlsYXRpb24=.json"},{name:"The Ultimate Blaxploitation Movies List",filePath:"VGhlIFVsdGltYXRlIEJsYXhwbG9pdGF0aW9uIE1vdmllcyBMaXN0.json"},{name:"Trashterpieces",filePath:"VHJhc2h0ZXJwaWVjZXM=.json"},{name:"A Symphony Of Trash",filePath:"QSBTeW1waG9ueSBPZiBUcmFzaA==.json"},{name:"Trash",filePath:"VHJhc2g=.json"}];function se(l,e,t){const a=l.slice();return a[10]=e[t],a}function oe(l,e,t){const a=l.slice();return a[13]=e[t],a}function he(l,e,t){const a=l.slice();return a[10]=e[t],a[16]=e,a[17]=t,a}function ce(l,e,t){const a=l.slice();return a[18]=e[t],a}function Te(l){let e,t,a,c,o,g,u,f,r,s,_=l[1].description+"",v,m,h,E,I,B=l[1].name+"",C,K,U,J,R,q,x,N=l[4],M=[];for(let n=0;n<N.length;n+=1)M[n]=fe(ce(l,N,n));let Z=l[2],T=[];for(let n=0;n<Z.length;n+=1)T[n]=me(he(l,Z,n));let Y=l[2].filter(ge),V=[];for(let n=0;n<Y.length;n+=1)V[n]=_e(se(l,Y,n));return{c(){e=G("select");for(let n=0;n<M.length;n+=1)M[n].c();t=X(),a=G("details"),c=G("summary"),o=j("Stream Providers"),g=X(),u=G("div");for(let n=0;n<T.length;n+=1)T[n].c();f=X(),r=G("div"),s=new Ge(!1),v=X(),m=G("a"),h=ae("svg"),E=ae("path"),I=j(`
				Open in Letterboxd: "`),C=j(B),K=j('"'),J=X(),R=G("div");for(let n=0;n<V.length;n+=1)V[n].c();this.h()},l(n){e=w(n,"SELECT",{id:!0});var k=y(e);for(let A=0;A<M.length;A+=1)M[A].l(k);k.forEach(d),t=L(n),a=w(n,"DETAILS",{style:!0});var i=y(a);c=w(i,"SUMMARY",{});var W=y(c);o=S(W,"Stream Providers"),W.forEach(d),g=L(i),u=w(i,"DIV",{style:!0});var ee=y(u);for(let A=0;A<T.length;A+=1)T[A].l(ee);ee.forEach(d),i.forEach(d),f=L(n),r=w(n,"DIV",{style:!0});var H=y(r);s=we(H,!1),v=L(H),m=w(H,"A",{href:!0,target:!0,rel:!0});var D=y(m);h=ne(D,"svg",{xmlns:!0,style:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0});var te=y(h);E=ne(te,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),y(E).forEach(d),te.forEach(d),I=S(D,`
				Open in Letterboxd: "`),C=S(D,B),K=S(D,'"'),D.forEach(d),H.forEach(d),J=L(n),R=w(n,"DIV",{style:!0});var le=y(R);for(let A=0;A<V.length;A+=1)V[A].l(le);le.forEach(d),this.h()},h(){b(e,"id","lists-select"),l[0]===void 0&&Pe(()=>l[6].call(e)),P(u,"margin-bottom","3rem"),P(a,"margin-top","2rem"),s.a=v,b(E,"stroke-linecap","round"),b(E,"stroke-linejoin","round"),b(E,"d","M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"),b(h,"xmlns","http://www.w3.org/2000/svg"),P(h,"height","1.1rem"),P(h,"width","1.1rem"),b(h,"fill","none"),b(h,"viewBox","0 0 24 24"),b(h,"stroke-width","1.5"),b(h,"stroke","currentColor"),b(m,"href",U=l[1].url),b(m,"target","_blank"),b(m,"rel","noreferrer"),P(r,"margin-top","3rem"),P(R,"margin-top","3rem")},m(n,k){F(n,e,k);for(let i=0;i<M.length;i+=1)M[i].m(e,null);ie(e,l[0]),F(n,t,k),F(n,a,k),p(a,c),p(c,o),p(a,g),p(a,u);for(let i=0;i<T.length;i+=1)T[i].m(u,null);F(n,f,k),F(n,r,k),s.m(_,r),p(r,v),p(r,m),p(m,h),p(h,E),p(m,I),p(m,C),p(m,K),F(n,J,k),F(n,R,k);for(let i=0;i<V.length;i+=1)V[i].m(R,null);q||(x=[Q(e,"change",l[6]),Q(e,"change",l[5])],q=!0)},p(n,k){if(k&16){N=n[4];let i;for(i=0;i<N.length;i+=1){const W=ce(n,N,i);M[i]?M[i].p(W,k):(M[i]=fe(W),M[i].c(),M[i].m(e,null))}for(;i<M.length;i+=1)M[i].d(1);M.length=N.length}if(k&17&&ie(e,n[0]),k&4){Z=n[2];let i;for(i=0;i<Z.length;i+=1){const W=he(n,Z,i);T[i]?T[i].p(W,k):(T[i]=me(W),T[i].c(),T[i].m(u,null))}for(;i<T.length;i+=1)T[i].d(1);T.length=Z.length}if(k&2&&_!==(_=n[1].description+"")&&s.p(_),k&2&&B!==(B=n[1].name+"")&&z(C,B),k&2&&U!==(U=n[1].url)&&b(m,"href",U),k&6){Y=n[2].filter(ge);let i;for(i=0;i<Y.length;i+=1){const W=se(n,Y,i);V[i]?V[i].p(W,k):(V[i]=_e(W),V[i].c(),V[i].m(R,null))}for(;i<V.length;i+=1)V[i].d(1);V.length=Y.length}},d(n){n&&d(e),O(M,n),n&&d(t),n&&d(a),O(T,n),n&&d(f),n&&d(r),n&&d(J),n&&d(R),O(V,n),q=!1,ve(x)}}}function Ve(l){var g;let e,t,a=(((g=l[0])==null?void 0:g.name)??"")+"",c,o;return{c(){e=G("h5"),t=j("Loading "),c=j(a),o=j("..."),this.h()},l(u){e=w(u,"H5",{"aria-busy":!0});var f=y(e);t=S(f,"Loading "),c=S(f,a),o=S(f,"..."),f.forEach(d),this.h()},h(){b(e,"aria-busy","true")},m(u,f){F(u,e,f),p(e,t),p(e,c),p(e,o)},p(u,f){var r;f&1&&a!==(a=(((r=u[0])==null?void 0:r.name)??"")+"")&&z(c,a)},d(u){u&&d(e)}}}function fe(l){let e,t=l[18].name+"",a;return{c(){e=G("option"),a=j(t),this.h()},l(c){e=w(c,"OPTION",{});var o=y(e);a=S(o,t),o.forEach(d),this.h()},h(){e.__value=l[18],e.value=e.__value},m(c,o){F(c,e,o),p(e,a)},p:$,d(c){c&&d(e)}}}function me(l){let e,t,a,c,o,g=l[10].name+"",u,f,r,s,_,v;function m(){l[7].call(t,l[16],l[17])}function h(...E){return l[8](l[10],...E)}return{c(){e=G("div"),t=G("input"),c=X(),o=G("label"),u=j(g),s=X(),this.h()},l(E){e=w(E,"DIV",{style:!0});var I=y(e);t=w(I,"INPUT",{type:!0,id:!0}),c=L(I),o=w(I,"LABEL",{for:!0,title:!0,style:!0});var B=y(o);u=S(B,g),B.forEach(d),s=L(I),I.forEach(d),this.h()},h(){b(t,"type","checkbox"),b(t,"id",a=l[10].name),b(o,"for",f=l[10].name),b(o,"title",r=l[10].name),P(o,"font-size","14pt"),P(o,"text-overflow","ellipsis"),P(o,"white-space","nowrap"),P(o,"overflow","hidden"),P(o,"width","16rem"),P(e,"display","inline-block")},m(E,I){F(E,e,I),p(e,t),t.checked=l[10].enabled,p(e,c),p(e,o),p(o,u),p(e,s),_||(v=[Q(t,"change",m),Q(t,"change",h)],_=!0)},p(E,I){l=E,I&4&&a!==(a=l[10].name)&&b(t,"id",a),I&4&&(t.checked=l[10].enabled),I&4&&g!==(g=l[10].name+"")&&z(u,g),I&4&&f!==(f=l[10].name)&&b(o,"for",f),I&4&&r!==(r=l[10].name)&&b(o,"title",r)},d(E){E&&d(e),_=!1,ve(v)}}}function ue(l){let e;return{c(){e=j("Nothing found")},l(t){e=S(t,"Nothing found")},m(t,a){F(t,e,a)},d(t){t&&d(e)}}}function de(l){let e,t,a,c,o,g,u,f;return{c(){e=G("div"),t=G("a"),a=G("img"),f=X(),this.h()},l(r){e=w(r,"DIV",{style:!0});var s=y(e);t=w(s,"A",{href:!0});var _=y(t);a=w(_,"IMG",{src:!0,style:!0,title:!0,alt:!0}),_.forEach(d),f=L(s),s.forEach(d),this.h()},h(){re(a.src,c=l[13].imageUrl)||b(a,"src",c),P(a,"max-height","15rem"),P(a,"max-width","9.5rem"),b(a,"title",o=l[13].name),b(a,"alt",g=`${l[13].name}`),b(t,"href",u=l[13].letterboxdUrl),P(e,"display","inline-block"),P(e,"margin-left","1rem"),P(e,"margin-bottom","1rem")},m(r,s){F(r,e,s),p(e,t),p(t,a),p(e,f)},p(r,s){s&6&&!re(a.src,c=r[13].imageUrl)&&b(a,"src",c),s&6&&o!==(o=r[13].name)&&b(a,"title",o),s&6&&g!==(g=`${r[13].name}`)&&b(a,"alt",g),s&6&&u!==(u=r[13].letterboxdUrl)&&b(t,"href",u)},d(r){r&&d(e)}}}function _e(l){let e,t,a=l[10].name+"",c,o,g,u;function f(...v){return l[9](l[10],...v)}let r=l[1].entries.filter(f),s=[];for(let v=0;v<r.length;v+=1)s[v]=de(oe(l,r,v));let _=null;return r.length||(_=ue()),{c(){e=G("section"),t=G("h2"),c=j(a),o=X(),g=G("div");for(let v=0;v<s.length;v+=1)s[v].c();_&&_.c(),u=X(),this.h()},l(v){e=w(v,"SECTION",{});var m=y(e);t=w(m,"H2",{style:!0});var h=y(t);c=S(h,a),h.forEach(d),o=L(m),g=w(m,"DIV",{});var E=y(g);for(let I=0;I<s.length;I+=1)s[I].l(E);_&&_.l(E),E.forEach(d),u=L(m),m.forEach(d),this.h()},h(){P(t,"margin-bottom","1rem")},m(v,m){F(v,e,m),p(e,t),p(t,c),p(e,o),p(e,g);for(let h=0;h<s.length;h+=1)s[h].m(g,null);_&&_.m(g,null),p(e,u)},p(v,m){if(l=v,m&4&&a!==(a=l[10].name+"")&&z(c,a),m&6){r=l[1].entries.filter(f);let h;for(h=0;h<r.length;h+=1){const E=oe(l,r,h);s[h]?s[h].p(E,m):(s[h]=de(E),s[h].c(),s[h].m(g,null))}for(;h<s.length;h+=1)s[h].d(1);s.length=r.length,r.length?_&&(_.d(1),_=null):_||(_=ue(),_.c(),_.m(g,null))}},d(v){v&&d(e),O(s,v),_&&_.d()}}}function Fe(l){let e,t,a,c,o;function g(r,s){return r[3]?Ve:Te}let u=g(l),f=u(l);return{c(){e=X(),t=G("div"),a=G("h1"),c=j("Who Streams My Letterboxd List"),o=X(),f.c(),this.h()},l(r){Ie("svelte-1kn2mgw",document.head).forEach(d),e=L(r),t=w(r,"DIV",{class:!0,style:!0});var _=y(t);a=w(_,"H1",{});var v=y(a);c=S(v,"Who Streams My Letterboxd List"),v.forEach(d),o=L(_),f.l(_),_.forEach(d),this.h()},h(){document.title="Letterboxd List Streams",b(t,"class","container"),P(t,"margin-top","3rem")},m(r,s){F(r,e,s),F(r,t,s),p(t,a),p(a,c),p(t,o),f.m(t,null)},p(r,[s]){u===(u=g(r))&&f?f.p(r,s):(f.d(1),f=u(r),f&&(f.c(),f.m(t,null)))},i:$,o:$,d(r){r&&d(e),r&&d(t),f.d()}}}function Xe(l,e){localStorage.setItem(`provider: ${l}`,e+"")}function Le(l){return localStorage.getItem(`provider: ${l}`)==="true"}const ge=l=>l.enabled;function je(l,e,t){let a=Me,c=a[0],o={name:"",description:"",entries:[],streamProviders:[],url:""},g=[],u=!0;ke(()=>{const m=localStorage.getItem("selectedList");t(0,c=a.find(h=>h.name===m)),f()});async function f(){t(3,u=!0);try{t(1,o=await fetch(c.filePath).then(m=>m.json())),t(2,g=o.streamProviders.map(m=>({...m,enabled:Le(m.name)}))),localStorage.setItem("selectedList",c.name)}finally{t(3,u=!1)}}function r(){c=ye(this),t(0,c),t(4,a)}function s(m,h){m[h].enabled=this.checked,t(2,g)}return[c,o,g,u,a,f,r,s,(m,h)=>{var E;return Xe(m.name,(E=h==null?void 0:h.target)==null?void 0:E.checked)},(m,h)=>h.streamProviders.includes(m.name)]}class We extends pe{constructor(e){super(),be(this,e,je,Fe,Ee,{})}}export{We as default};
